{% extends "shared/base.html" %}

{% block title %}Welcome to Clusive{% endblock %}

{% block header %}

<header id="headerMenu" style="float: right">
        <div class="navbar" >
            <nav class="navbar" style="box-shadow: none;background-color: transparent;">
                <div class="nav-wrapper"><span class="brand-logo  hide-on-med-and-down " id="book-title" style="position: unset !important;
                    left: unset !important;
                    transform: unset !important"></span>
                    <ul id="nav-mobile-right" class="right">
                        <li style="display:none"><a class="saveBookmark" id="menu-button-bookmark"><i class="material-icons ">bookmark</i></a></li>
                        <li><a data-target="container-view-settings" class="dropdown-trigger " id="menu-button-settings"><i
                                    class="material-icons ">settings</i></a></li>
                    </ul>
                    <ul id="nav-mobile-left" class="left">
                        <li><a href="#!" data-target="sidenav-left" class="sidenav-trigger left"><i class="material-icons  show-on-large">menu</i></a></li>
                        <li><a rel="prev" style="padding-left: 7px; padding-right: 7px;"><i class="material-icons ">arrow_back_ios</i></a></li>
                        <li><a rel="next" style="padding-left: 7px; padding-right: 7px;"><i class="material-icons ">arrow_forward_ios</i></a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <ul id="sidenav-left" class="sidenav">
            <li><a href="#" class="logo-container ">cisl reader<i class="material-icons right  editAnnotations" id="expand-menu">unfold_more</i></a></li>
            <li class="no-padding ">
                <ul class="collapsible collapsible-accordion">
                    <li class="bold"><a class="collapsible-header ">Table of Contents<i class="material-icons chevron purple-yellow-text">chevron_left</i></a>
                        <div id="container-view-toc" class="contents-view collapsible-body active" style="background-color : #ffffff">
                        </div>
                    </li>
                    <li class="bold "><a class="collapsible-header ">Bookmarks <i class="material-icons chevron ">chevron_left</i></a>
                        <div id="container-view-bookmarks" class="bookmarks-view collapsible-body active" style="background-color : #ffffff">
                        </div>
                    </li>
                </ul>
            </li>
        </ul>

        <div id="container-view-settings" class="dropdown-content settings-view notifications">
            <ul class="settings-menu" role="menu" tabindex="0">

                <li id="container-view-fontsize">
                    <ul class="settings-options">

                        <li class="font-setting"><button id="decrease-font" class="decrease" role="menuitem"
                                tabindex="-1">A-</button></li>

                        <li class="font-setting"><button id="increase-font" class="increase" role="menuitem"
                                tabindex="-1">A+</button></li>

                    </ul>
                </li>

                <li id="container-view-appearance">
                    <ul class="settings-options">

                        <li class="reading-theme"><button id="day-theme" class="day-theme" role="menuitem" tabindex="-1"
                                aria-label="Day mode enabled">Day<svg xmlns="http://www.w3.org/2000/svg"
                                    preserveAspectRatio="xMidYMid meet" class="checkedIcon" role="img"
                                    aria-labelledby="check-icon">
                                    <use xlink:href="#check-icon"></use>
                                </svg></button></li>

                        <li class="reading-theme"><button id="sepia-theme" class="sepia-theme" role="menuitem"
                                tabindex="-1" aria-label="Sepia mode disabled">Sepia<svg xmlns="http://www.w3.org/2000/svg"
                                    preserveAspectRatio="xMidYMid meet" class="checkedIcon" role="img"
                                    aria-labelledby="check-icon">
                                    <use xlink:href="#check-icon"></use>
                                </svg></button></li>

                        <li class="reading-theme"><button id="night-theme" class="night-theme" role="menuitem"
                                tabindex="-1" aria-label="Night mode disabled">Night<svg xmlns="http://www.w3.org/2000/svg"
                                    preserveAspectRatio="xMidYMid meet" class="checkedIcon" role="img"
                                    aria-labelledby="check-icon">
                                    <use xlink:href="#check-icon"></use>
                                </svg></button></li>

                    </ul>
                </li>

                <li id="container-view-fontfamily">
                    <ul class="settings-options">

                        <li class="reading-style"><button id="publisher-font" class="publisher-font" role="menuitem"
                                tabindex="-1" aria-label="Publisher font enabled">Publisher<svg xmlns="http://www.w3.org/2000/svg"
                                    preserveAspectRatio="xMidYMid meet" class="checkedIcon" role="img"
                                    aria-labelledby="check-icon">
                                    <use xlink:href="#check-icon"></use>
                                </svg></button></li>

                        <li class="reading-style"><button id="serif-font" class="serif-font" role="menuitem"
                                tabindex="-1" aria-label="Serif font disabled">Serif<svg xmlns="http://www.w3.org/2000/svg"
                                    preserveAspectRatio="xMidYMid meet" class="checkedIcon" role="img"
                                    aria-labelledby="check-icon">
                                    <use xlink:href="#check-icon"></use>
                                </svg></button></li>

                        <li class="reading-style"><button id="sans-font" class="sans-font" role="menuitem" tabindex="-1"
                                aria-label="Sans-serif font disabled">Sans Serif<svg xmlns="http://www.w3.org/2000/svg"
                                    preserveAspectRatio="xMidYMid meet" class="checkedIcon" role="img"
                                    aria-labelledby="check-icon">
                                    <use xlink:href="#check-icon"></use>
                                </svg></button></li>
                        <li class="reading-style"><button id="opendyslexic-font" class="opendyslexic-font" role="menuitem" tabindex="-1"
                            aria-label="Open Dyslexic font disabled">Open Dyslexic<svg xmlns="http://www.w3.org/2000/svg"
                                preserveAspectRatio="xMidYMid meet" class="checkedIcon" role="img"
                                aria-labelledby="check-icon">
                                <use xlink:href="#check-icon"></use>
                            </svg></button></li>

                    </ul>
                </li>
                <li id="container-view-scroll">
                    <ul class="settings-options">

                        <li class="reading-view"><button id="view-scroll" class="view-scroll" role="menuitem" tabindex="-1"
                                aria-label="Scroll view enabled">Scroll<svg xmlns="http://www.w3.org/2000/svg"
                                    preserveAspectRatio="xMidYMid meet" class="checkedIcon" role="img"
                                    aria-labelledby="check-icon">
                                    <use xlink:href="#check-icon"></use>
                                </svg></button></li>

                        <li class="reading-view"><button id="view-paginated" class="view-paginated" role="menuitem"
                                tabindex="-1" aria-label="Paginated view disabled">Paginated<svg xmlns="http://www.w3.org/2000/svg"
                                    preserveAspectRatio="xMidYMid meet" class="checkedIcon" role="img"
                                    aria-labelledby="check-icon">
                                    <use xlink:href="#check-icon"></use>
                                </svg></button></li>

                    </ul>
                </li>
            </ul>
        </div>
    </header>
    {% endblock %}
    {% block content %}

    <div id="D2Reader-Container" style="width: 100%; height: 100%; position: relative;">
        <main style="overflow: hidden" tabindex=-1 id="iframe-wrapper">
            <div id="reader-loading" class="loading"></div>
            <div id="reader-error" class="error"></div>
            <div id="reader-info-top" class="info top">
                <span class="book-title"></span>
            </div>
            <iframe sandbox="allow-scripts allow-same-origin" allowtransparency="true" title="ePub Reader" SCROLLING="no" style="border: 0px; display: block;" width="100%" height="100%"></iframe>
            <div id="reader-info-bottom" class="info bottom">
                <span class="chapter-position"></span>
                <span class="chapter-title"></span>
            </div>
        </main>

        <a id="previous-chapter" rel="prev" role="button" aria-labelledby="previous-label" style="top: 105px;left: 50%;position: fixed;color: #000;height: 24px;background: #d3d3d33b; width: 150px;transform: translate(-50%, 0); display: none">
            <i class="material-icons black-text" style="left: calc(50% - 12px);
            position: relative;">keyboard_arrow_up</i>
        </a>
        <a id="next-chapter" rel="next" role="button" aria-labelledby="next-label" style="bottom: 0;left: 50%;position: fixed;color: #000;height: 24px;background: #d3d3d33b; width: 150px;transform: translate(-50%, 0); display: none">
            <i class="material-icons black-text" style="left: calc(50% - 12px);
            position: relative;">keyboard_arrow_down</i>
        </a>

    </div>

    <footer id="footerMenu">
        <a rel="prev" class="disabled" role="button" aria-labelledby="previous-label" style="top: 50%;left:0;position: fixed;height: 100px;
                background: lightgray;">
            <i class="material-icons black-text" style="top: calc(50% - 12px);
                    position: relative;">keyboard_arrow_left</i>
        </a>
        <a rel="next" class="disabled" role="button" aria-labelledby="next-label" style="top: 50%;right:0;position: fixed;height: 100px;
                background: lightgray;">
            <i class="material-icons black-text" style="top: calc(50% - 12px);
                    position: relative;">keyboard_arrow_right</i>
        </a>
    </footer>

    <script>
        var url = "http://127.0.0.1:8000/static/reader/explodedEpubs/TheCallOfTheWild/manifest.json"
        var baseUrl = "/static/reader/"
        D2Reader.load({
            url: new URL(url),
            ui: {
                settings: {
                    appearance: true,
                    fontFamily: true,
                    fontSize: true,
                    scroll: true
                },
            },
            rights: {
                enableBookmarks: true  
            },
            staticBaseUrl: baseUrl,
            material: true
        });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

{% endblock %}