# Generated by Django 2.2.4 on 2019-10-14 13:55
import logging

from django.db import migrations

logger = logging.getLogger(__name__)


# Not sure if this is the best strategy.
# Fine for use while testing, but will fail if there are references to books in the DB.
def remove_all_books(apps, schema_editor):
    Book = apps.get_model('library', 'Book')
    Book.objects.all().delete()


def add_static_books(apps, schema_editor):
    # No longer doing this here since Book schema has changed.
    # load_static_books()
    pass

class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('library', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(add_static_books, remove_all_books)
    ]
