{% load library %}

<div class="col text-md-end order-md-3">
    <div class="library-filter" role="region" aria-label="Sort and layout options">
        <ul class="nav">
            <li class="nav-item">
                <span class="library-filter-label">Sort by:</span>
                <button type="button" class="link-btn" data-cfw="dropdown">
                    {{ sort | capfirst }}
                    <span class="caret" aria-hidden="true"></span>
                </button>
                <ul class="dropdown-menu">
                    <li>
                        {% if sort == 'title' %}
                        <span class="dropdown-item active">Title</span></li>
                        {% else %}
                            {% if period %}
                            <a class="sort-link" href="{% url 'library' style=style sort='title' view=current_view period_id=period.id %}{% search_args query '' '' %}">Title</a>
                            {% else %}
                            <a class="sort-link" href="{% url 'library' style=style sort='title' view=current_view %}{% search_args query '' '' %}">Title</a>
                            {% endif %}
                        {% endif %}
                    </li>
                    <li>
                        {% if sort == 'author' %}
                        <span class="dropdown-item active">Author</span>
                        {% else %}
                            {% if period %}
                            <a class="sort-link" href="{% url 'library' style=style sort='author' view=current_view period_id=period.id %}{% search_args query '' '' %}">Author</a>
                            {% else %}
                            <a class="sort-link" href="{% url 'library' style=style sort='author' view=current_view %}{% search_args query '' '' %}">Author</a>
                            {% endif %}
                        {% endif %}
                    </li>
                    <li>
                        {% if sort == 'recent' %}
                        <span class="dropdown-item active">Recent</span>
                        {% else %}
                        {% if period %}
                        <a class="sort-link" href="{% url 'library' style=style sort='recent' view=current_view period_id=period.id %}{% search_args query '' '' %}">Recent</a>
                        {% else %}
                        <a class="sort-link" href="{% url 'library' style=style sort='recent' view=current_view %}{% search_args query '' '' %}">Recent</a>
                        {% endif %}
                        {% endif %}
                    </li>
                </ul>
            </li>
            <li class="nav-item">
                <span class="library-filter-label">Layout:</span>
                <button type="button" class="link-btn" data-cfw="dropdown">
                    {{ style | capfirst }}
                    <span class="caret" aria-hidden="true"></span></button>
                <ul class="dropdown-menu">
                    <li>
                        {% if style == 'bricks' %}
                        <span class="dropdown-item active"><span class="icon-bricks" aria-hidden="true"></span>Bricks <span class="sr-only">current</span></span>
                        {% else %}
                        {% if period %}
                        <a class="style-link" href="{% url 'library' style='bricks' sort=sort view=current_view period_id=period.id %}{% search_args query '' '' %}"><span class="icon-bricks" aria-hidden="true"></span>Bricks</a>
                        {% else %}
                        <a class="style-link" href="{% url 'library' style='bricks' sort=sort view=current_view %}{% search_args query '' '' %}"><span class="icon-bricks" aria-hidden="true"></span>Bricks</a>
                        {% endif %}
                        {% endif %}
                    </li>
                    <li>
                        {% if style == 'grid' %}
                        <span class="dropdown-item active"><span class="icon-th-large" aria-hidden="true"></span>Grid <span class="sr-only">current</span></span>
                        {% else %}
                        {% if period %}
                        <a class="style-link" href="{% url 'library' style='grid' sort=sort view=current_view period_id=period.id %}{% search_args query '' '' %}"><span class="icon-th-large" aria-hidden="true"></span>Grid</a>
                        {% else %}
                        <a class="style-link" href="{% url 'library' style='grid' sort=sort view=current_view %}{% search_args query '' '' %}"><span class="icon-th-large" aria-hidden="true"></span>Grid</a>
                        {% endif %}
                        {% endif %}
                    </li>
                    <li>
                        {% if style == 'list' %}
                        <span class="dropdown-item active"><span class="icon-menu" aria-hidden="true"></span>List <span class="sr-only">current</span></span>
                        {% else %}
                        {% if period %}
                        <a class="style-link" href="{% url 'library' style='list' sort=sort view=current_view period_id=period.id %}{% search_args query '' '' %}"><span class="icon-menu" aria-hidden="true"></span>List</a>
                        {% else %}
                        <a class="style-link" href="{% url 'library' style='list' sort=sort view=current_view %}{% search_args query '' '' %}"><span class="icon-menu" aria-hidden="true"></span>List</a>
                        {% endif %}
                        {% endif %}
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</div>
