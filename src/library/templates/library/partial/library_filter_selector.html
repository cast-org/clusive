{% load figuration library %}

<div class="col-12 col-md-auto order-md-2">
    <div class="mb-1">
        <button type="button" class="btn btn-primary" data-cfw="collapse" data-cfw-collapse-target="#filterSelection">
            <span class="not-open">Show filters</span>
            <span class="is-open">Hide filters</span>
        </button>
        <a id="clearFilters" href="{% search_args query '' '' %}" role="button" class="ms-0_5">Clear filters</a>
    </div>
</div>

<div class="col-12 order-md-4">
    <div class="row library-filter-row collapse" id="filterSelection" role="region" aria-label="filters">
        <div class="col-md-8">
            <div class="box library-filter-box">
                <fieldset data-clusive="filterAllUpdate">
                    <legend class="form-label lh-1 pt-0"><strong>Topic</strong></legend>
                    <div class="form-check form-checkradio">
                        <input class="form-check-input" type="checkbox" id="topicAll" name="subjects" data-clusive="filterAll" value="">
                        <label class="form-check-label" for="topicAll">All topics and genres</label>
                    </div>
                    <div class="box-divider-thin"></div>
                    <div class="library-filter-columns">
                        {% for t in topics %}
                        <div class="form-check form-checkradio">
                            <input class="form-check-input" type="checkbox"
                                   id="topic-{{ t.id }}" value="{{ t.subject }}"
                                   {% if t in subjects %}checked{% endif %}>
                            <label class="form-check-label" for="topic-{{ t.id }}">{{ t.subject }}</label>
                        </div>
                        {% endfor %}
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="col-md-4">
            <div class="box library-filter-box">
                <fieldset data-clusive="filterAllUpdate">
                    <legend class="form-label lh-1 pt-0"><strong>Reading Level</strong></legend>
                    <div class="form-check form-checkradio">
                        <input class="form-check-input" type="checkbox" id="levelAll" name="readingLevels" data-clusive="filterAll" value="">
                        <label class="form-check-label" for="levelAll">All reading levels</label>
                    </div>
                    <div class="box-divider-thin"></div>
                    {% for rl in reading_levels %}
                    <div class="form-check form-checkradio">
                        <input class="form-check-input" type="checkbox" id="reading-level-{{ rl.value }}" value="{{ rl.value }}"
                           {% if rl in reading_levels_filter %}checked{% endif %}>
                        <label class="form-check-label" for="reading-level-{{ rl.value }}">{{ rl.description|safe }}</label>
                    </div>
                    {% endfor %}
                </fieldset>
            </div>
            <div class="box library-filter-box">
                <fieldset data-clusive="filterAllUpdate">
                    <legend class="form-label lh-1 pt-0"><strong>Word Count</strong></legend>
                    <div class="form-check form-checkradio">
                        <input class="form-check-input" type="checkbox" id="countAll" name="words" data-clusive="filterAll" value="">
                        <label class="form-check-label" for="countAll">All word counts</label>
                    </div>
                    <div class="box-divider-thin"></div>
                    <div class="form-check form-checkradio">
                        <input class="form-check-input" type="checkbox" id="count0" value="XS">
                        <label class="form-check-label" for="count0"><500 words</label>
                    </div>
                    <div class="form-check form-checkradio">
                        <input class="form-check-input" type="checkbox" id="count1" value="S">
                        <label class="form-check-label" for="count1">501 &ndash; 1,000 words</label>
                    </div>
                    <div class="form-check form-checkradio">
                        <input class="form-check-input" type="checkbox" id="count2" value="M">
                        <label class="form-check-label" for="count2">1,001 &ndash; 5,000 words</label>
                    </div>
                    <div class="form-check form-checkradio">
                        <input class="form-check-input" type="checkbox" id="count3" value="L">
                        <label class="form-check-label" for="count3">5,000 &ndash; 30,000 words</label>
                    </div>
                    <div class="form-check form-checkradio">
                        <input class="form-check-input" type="checkbox" id="count4" value="XL">
                        <label class="form-check-label" for="count4">30,000+ words</label>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
</div>
