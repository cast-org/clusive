{% load static library %}
<div class="card card-library">
    <div class="card-header">
        <a href="#" class="link-stretch"
           {% if unauthorized %}
           data-cfw="tooltip" title="Not authorized to view"
           {% else %}
           onclick="vocabCheck.start(this, '{{ book.id }}'); return false;"
           {% endif %}
           ><h2 class="card-title">
            {% if unauthorized %}
            <span class="icon-block" title="Not authorized to view"></span>
            {% endif %}
            {{ book.title|highlight:query }}
            </h2>
        </a>
        {% if book.author %}<div class="card-author">{{ book.author|highlight:query }}</div>{% endif %}
    </div>
    {% if book.cover %}
    <div class="card-img">
        <img src="{% get_media_prefix %}{{ book.cover_path }}" alt="Cover image for {{ book.title }}" class="img-fluid" />
    </div>
    {% endif %}
    <div class="card-body">
        {% if show_description and book.description %}<p class="card-text">{{ book.description|highlight:query }}</p>{% endif %}
        {% if graph_data %}{% include 'library/partial/library_card_graph.html' %}{% endif %}
    </div>
        <div class="card-footer">
            <div class="row">
                {% include 'library/partial/library_card_topics.html' %}
                {% include "library/partial/library_action_menu.html" %}
                {% if show_assignments and book.assigned_period_name_list %}
                <hr/>
                <p>Assigned to: {{ book.assigned_period_name_list | highlight:period_name }}</p>
                {% endif %}
            </div>
        </div>
</div>
