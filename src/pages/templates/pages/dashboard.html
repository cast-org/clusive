{% extends "shared/base.html" %}
{% load static %}

{% block bodyClass %}library sidebar-no-start{% endblock %}
{% block title %}Dashboard{% endblock %}

{% block header %}
{% include "shared/partial/site_header.html" with page_group="dashboard" home_link=False %}
{% endblock %}

{% block sidebar_start %}
{% endblock %}

{% block content %}
<main id="content" tabindex="-1">
    <div class="row">
        <div class="col-md-auto">
            <h1>Dashboard</h1>
        </div>
        <div class="col"></div>
        {% if periods.count > 1 %}
        {% include "shared/partial/period_selector.html" with target='dashboard' %}
        {% endif %}
    </div>
    <div class="row">
        <div class="col-md-4">
            {% if show_star_rating %}{% include "pages/partial/dashboard_panel_star_rating.html" %}{% endif %}
            {% if show_star_results %}{% include "pages/partial/dashboard_panel_star_rating_results.html" %}{% endif %}
            {% include "pages/partial/dashboard_panel_welcome.html" %}
        </div>

        <div class="col-md-8 pt-1 mt-1 pt-md-0 mt-md-0">
            <div class="box box-mascot-tipped">
                {% if last_reads %}
                <h2>Recent reads</h2>
                <p>Revisit something you've read, or head to the <a href="{% url 'reader_index' %}">Library</a> for something new.</p>

                <div class="library-grid{% if last_reads|length <= 1 and featured|length <= 1 %} library-grid-col-2{% endif %}">
                    {% for para in last_reads %}
                        {% include "library/partial/library_card.html" with book=para.book show_menu=False show_topics=False %}
                    {% endfor %}
                    {% for book in featured %}
                        {% include "library/partial/library_card.html" with book=book show_menu=False show_topics=False %}
                    {% endfor %}
                </div>
                {% else %}
                <h2>Getting started</h2>

                <div class="library-grid{% if featured|length <= 1 %} library-grid-col-2{% endif %}">
                    {% for book in featured %}
                        {% include "library/partial/library_card.html" with book=book show_menu=False show_topics=False %}
                    {% endfor %}
                    <div class="card card-special">
                        <div class="card-body">
                            <p>Dive into the Library to find something to read.</p>
                            <a href="{% url 'reader_index' %}" class="btn btn-primary">Go to the library</a>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    {% if reading_data %}
    <div class="row">
        {% include "pages/partial/dashboard_panel_student_activity.html" %}
    </div>
    {% endif %}

</div>
{% include "shared/partial/modal_vocab_check.html" %}
{% endblock %}
